# VClubeManager

## О программе

Расширенный административный инструментарий для вашего клуба в игре ВКлубе.  
Используемые технологии: TypeScript + NodeJS и MySQL

## Как установить?

Для контроля и последующей поддержки клуба, вам понадобиться:  
MySQL, NodeJS, желательно сервер или VDS/VPS и второй аккаунт (который будет служить суперадмином)

1. Устанавливаем и настраиваем MySQL
2. Импортируем в базу данных таблицы из файла **vclube_manager.sql**
3. Клонируем репозитории и заходим в папку проекта
4. Вводим команду `npm install`
5. Вводим нужные данные в **config.json**
6. Компилируем проект командой `tsc`
7. Запускаем программу командой `node dist/index.js`
8. Если все прошло удачно, ваш хост зайдет в клуб

## Команды

```!kick user_id``` - Исключить пользователя из клуба  
```!ban user_id duration``` - Заблокировать пользователя в клубе  
```!admin add user_id``` - Добавить пользователя в администраторы клуба  
```!admin remove user_id``` - Удалить пользователя из администрации клуба  
```!admin list``` - Список администраторов клуба  
```!stats user_id``` - Статистика пользователя в клубе  

## Конфиг (config.json)

```json
{
    "DataBase": {
        "host": "",     // Адрес MySQL-сервера
        "dbname": "",   // Имя БД
        "username": "", // Имя MySQL-пользователя
        "password": ""  // Пароль MySQL-пользователя
    },
    "host": {
        "club_id": 0,   // ID клуба/группы вк клуба
        "user_id": 0,   // ID хоста клуба
        "token": "",    // auth_key:access_token ищем в html эти слова
        "system_id": "85acbf2e445c205f695af78309f14c12"
    },
    "super_admin": 0,   // ID второго аккаунта который будет суперадмином
    "welcome_message": { // Настройка приветственного сообщения
        "enable": false, // false - отключить, true - включить
        "text": "Добро пожаловать!", // Текст
        "interval": 3600 // Интервал в секундах через сколько снова отправлять при следующем заходе человеку это сообщение
    },
    "limits": { // Лимиты
        "messages": { // Лимит общего кол-ва сообщении
            "count": 5, // Кол-во сообщении 
            "time": 1 // Интервал в секундах за который не должен быть превышен лимит
        },
        "user_messages": { // Лимит кол-ва сообщении на одного пользователя
            "count": 2,
            "time": 1
        },
        "enter": { // Лимит входов в клуб
            "count": 3,
            "time": 2
        },
        "likes": { // Лимит лайков
            "count": 3,
            "time": 1
        },
        "dislikes": { // Лимит дизлайков
            "count": 3,
            "time": 1
        },
        "superlikes": { // Лимит суперлайков
            "count": 3,
            "time": 1
        }
    }
}
```

## Поддержать автора

[https://yoomoney.ru/to/410012335150397](https://yoomoney.ru/to/410012335150397)
